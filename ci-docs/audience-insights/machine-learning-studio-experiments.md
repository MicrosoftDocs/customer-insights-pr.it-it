---
title: Esperimenti con Machine Learning Studio (versione classica)
description: Utilizza modelli di Machine Learning Studio (versione classica) in Dynamics 365 Customer Insights.
ms.date: 12/03/2020
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: conceptual
author: m-hartmann
ms.author: mhart
ms.reviewer: ameetj
manager: shellyha
ms.openlocfilehash: 556b6810db0ed2733a3f086291757bd85b77e371
ms.sourcegitcommit: a9b2cf598f256d07a48bba8617347ee90024a1dd
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 12/03/2020
ms.locfileid: "4669023"
---
# <a name="use-models-based-on-azure-machine-learning-studio-classic"></a><span data-ttu-id="d0c7d-103">Utilizzare modelli basati su Azure Machine Learning Studio (versione classica)</span><span class="sxs-lookup"><span data-stu-id="d0c7d-103">Use models based on Azure Machine Learning Studio (classic)</span></span>

<span data-ttu-id="d0c7d-104">I dati unificati in Dynamics 365 Customer Insights sono una fonte per la creazione di modelli di Machine Learning che possono generare ulteriori informazioni aziendali.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-104">The unified data in Dynamics 365 Customer Insights is a source for building machine learning models that can generate additional business insights.</span></span> <span data-ttu-id="d0c7d-105">Customer Insights si integra con Machine Learning Studio (versione classica) per l'uso di modelli personalizzati.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-105">Customer Insights integrates with Machine Learning Studio (classic) to use your own custom models.</span></span> <span data-ttu-id="d0c7d-106">Per vedere come i modelli sviluppati in Azure Machine Learning sono integrati con Customer Insights, vedi [Esperimenti con Azure Machine Learning](azure-machine-learning-experiments.md).</span><span class="sxs-lookup"><span data-stu-id="d0c7d-106">To see how models developed in Azure Machine Learning are integrated with Customer Insights, see [Azure Machine Learning experiments](azure-machine-learning-experiments.md).</span></span>

## <a name="prerequisites"></a><span data-ttu-id="d0c7d-107">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="d0c7d-107">Prerequisites</span></span>

- <span data-ttu-id="d0c7d-108">Accesso a Customer Insights</span><span class="sxs-lookup"><span data-stu-id="d0c7d-108">Access to Customer Insights</span></span>
- <span data-ttu-id="d0c7d-109">Abbonamento attivo ad Azure Enterprise</span><span class="sxs-lookup"><span data-stu-id="d0c7d-109">Active Azure Enterprise subscription</span></span>
- [<span data-ttu-id="d0c7d-110">Profili cliente unificati</span><span class="sxs-lookup"><span data-stu-id="d0c7d-110">Unified customer profiles</span></span>](data-unification.md)
- <span data-ttu-id="d0c7d-111">Configurazione dell'[esportazione di entità nell'archivio BLOB di Azure](export-azure-blob-storage.md)</span><span class="sxs-lookup"><span data-stu-id="d0c7d-111">[Entity export to Azure Blob storage](export-azure-blob-storage.md) set up</span></span>

## <a name="set-up-machine-learning-studio-classic"></a><span data-ttu-id="d0c7d-112">Configurare Machine Learning Studio (versione classica)</span><span class="sxs-lookup"><span data-stu-id="d0c7d-112">Set up Machine Learning Studio Classic</span></span>

<span data-ttu-id="d0c7d-113">In un primo passaggio, dobbiamo creare un'area di lavoro e aprire Machine Learning Studio (versione classica).</span><span class="sxs-lookup"><span data-stu-id="d0c7d-113">In a first step, we need to create a workspace for and open the Machine Learning Studio (classic).</span></span>

1. <span data-ttu-id="d0c7d-114">Vai a [https://www.portal.azure.com](https://www.portal.azure.com/) e accedi</span><span class="sxs-lookup"><span data-stu-id="d0c7d-114">Go to [https://www.portal.azure.com](https://www.portal.azure.com/) and sign in.</span></span>

1. <span data-ttu-id="d0c7d-115">Seleziona **Crea una risorsa**.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-115">Select **Create a resource**.</span></span>

1. <span data-ttu-id="d0c7d-116">Cerca **Area di lavoro di Machine Learning Studio** e seleziona **Crea**.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-116">Search **Machine Learning Studio Workspace** and select **Create**.</span></span>

1. <span data-ttu-id="d0c7d-117">Immetti i dettagli obbligatori per [creare l'area di lavoro](https://docs.microsoft.com/azure/machine-learning/studio/create-workspace).</span><span class="sxs-lookup"><span data-stu-id="d0c7d-117">Enter the required details to [create the workspace](https://docs.microsoft.com/azure/machine-learning/studio/create-workspace).</span></span> <span data-ttu-id="d0c7d-118">Scegli il **Piano tariffario del piano di servizi Web** in base alla quantità di dati che intendi importare.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-118">Choose the **Web service plan pricing tier** based on the amount of data you plan to import.</span></span> <span data-ttu-id="d0c7d-119">Per le migliori prestazioni, seleziona la **Posizione** che è geograficamente più vicina a te.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-119">For best performance, select the **Location** that is geographically closest to you.</span></span>

1. <span data-ttu-id="d0c7d-120">Dopo aver creato la risorsa, verrà visualizzata la dashboard dell'area di lavoro di Machine Learning Studio.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-120">After creating the resource, the Machine Learning Studio workspace dashboard will appear.</span></span> <span data-ttu-id="d0c7d-121">Seleziona **Avvia Machine Learning Studio**.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-121">Select **Launch Machine Learning Studio**.</span></span>

   ![Interfaccia utente di Azure Machine Learning Studio](media/azure-machine-learning-studio.png)

## <a name="work-with-azure-machine-learning-studio"></a><span data-ttu-id="d0c7d-123">Utilizzare Azure Machine Learning Studio</span><span class="sxs-lookup"><span data-stu-id="d0c7d-123">Work with Azure Machine Learning Studio</span></span>

<span data-ttu-id="d0c7d-124">Ora puoi creare un nuovo esperimento o importare un modello di esperimento esistente dalla galleria di esempio.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-124">You can now create a new experiment, or import an existing experiment template from the sample gallery.</span></span> <span data-ttu-id="d0c7d-125">Sono disponibili esperimenti di esempio per tre scenari standard:</span><span class="sxs-lookup"><span data-stu-id="d0c7d-125">There are sample experiments for three standard scenarios:</span></span>

- [<span data-ttu-id="d0c7d-126">Previsione sull'abbandono dei clienti</span><span class="sxs-lookup"><span data-stu-id="d0c7d-126">Churn prediction</span></span>](#churn-analysis)

- [<span data-ttu-id="d0c7d-127">Valore di durata del cliente</span><span class="sxs-lookup"><span data-stu-id="d0c7d-127">Customer lifetime value</span></span>](#customer-lifetime-value-prediction)

- [<span data-ttu-id="d0c7d-128">Suggerimenti di prodotto o migliore azione successiva</span><span class="sxs-lookup"><span data-stu-id="d0c7d-128">Product recommendation or next best action</span></span>](#productrecommendation-or-next-best-action)

1. <span data-ttu-id="d0c7d-129">Se crei un nuovo esperimento o utilizzi un modello di esperimento dalla raccolta, devi configurare le proprietà **Importa dati**.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-129">If you create a new experiment or use an experiment template from the gallery, you need to configure the **Import Data** properties.</span></span> <span data-ttu-id="d0c7d-130">Usa l'esperienza guidata o fornisci direttamente i dettagli per accedere all'archivio BLOB di Azure che contiene i tuoi dati.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-130">Use the guided experience or directly provide details to access the Azure Blob Storage that contains your data.</span></span>  

   ![Esperimento con Azure Machine Learning Studio](media/azure-machine-learning-studio-experiment.png)

1. <span data-ttu-id="d0c7d-132">Ora puoi creare una pipeline di elaborazione personalizzata per pulire e preelaborare i dati, estrarre le funzionalità ed eseguire il training di un modello adatto.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-132">Now you can build a custom processing pipeline to clean and preprocess the data, extract features, and train a suitable model.</span></span>

1. <span data-ttu-id="d0c7d-133">Testa e ottimizza le prestazioni del modello.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-133">Test and optimize the model performance.</span></span>

1. <span data-ttu-id="d0c7d-134">Quando sei soddisfatto della qualità di un modello, seleziona **Configura servizio Web** > **Servizio Web predittivo**.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-134">When you’re satisfied with the quality of a model, select **Set up web service** > **Predictive Web Service**.</span></span> <span data-ttu-id="d0c7d-135">Questa opzione importa il modello con training e la pipeline di funzionalità dall'esperimento di training a un servizio predittivo.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-135">This option imports the trained model and the featurization pipeline from the training experiment to a predictive service.</span></span> <span data-ttu-id="d0c7d-136">Il servizio predittivo può prendere un altro set di dati di input con lo schema utilizzato nell'esperimento di training per fare previsioni.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-136">The predictive service can take another set of input data with the schema used in the training experiment to make predictions.</span></span>

   ![Configurare un servizio Web predittivo](media/predictive-webservice-control.png)

1. <span data-ttu-id="d0c7d-138">Una volta che l'esperimento del servizio Web predittivo ha esito positivo, è possibile distribuirlo per la pianificazione automatica.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-138">Once the predictive web service experiment is successful, you can deploy it for auto scheduling.</span></span> <span data-ttu-id="d0c7d-139">Per fare in modo che il servizio Web funzioni con Customer Insights, seleziona **Distribuisci servizio Web** > **Anteprima Distribuisci servizio Web [Nuovo]**.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-139">To have the web service work with Customer Insights, select **Deploy Web Service** > **Deploy Web Service [New] Preview**.</span></span> <span data-ttu-id="d0c7d-140">[Scopri di più sulla distribuzione di un servizio Web](https://docs.microsoft.com/azure/machine-learning/studio/deploy-a-machine-learning-web-service)</span><span class="sxs-lookup"><span data-stu-id="d0c7d-140">[Learn more about deploying a web service](https://docs.microsoft.com/azure/machine-learning/studio/deploy-a-machine-learning-web-service).</span></span>

   ![Distribuire un servizio Web predittivo](media/predictive-webservice-deploy.png)

## <a name="sample-models-from-the-gallery"></a><span data-ttu-id="d0c7d-142">Modelli di esempio dalla raccolta</span><span class="sxs-lookup"><span data-stu-id="d0c7d-142">Sample models from the gallery</span></span>

<span data-ttu-id="d0c7d-143">Useremo uno scenario fittizio di Contoso Hotel per i modelli in questo articolo.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-143">We'll use a fictitious scenario of Contoso Hotel for the models in this article.</span></span> <span data-ttu-id="d0c7d-144">Contoso Hotel raccoglie i seguenti dati:</span><span class="sxs-lookup"><span data-stu-id="d0c7d-144">Contoso Hotel gathers the following data:</span></span>

- <span data-ttu-id="d0c7d-145">Dati CRM costituiti dall'attività di soggiorno in hotel.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-145">CRM data consisting of hotel stay activity.</span></span> <span data-ttu-id="d0c7d-146">Il set di dati include informazioni sulle date di soggiorno per ogni cliente registrato.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-146">The data set includes information about the dates of stay for each registered customer.</span></span> <span data-ttu-id="d0c7d-147">Contiene anche informazioni sulla prenotazione, sui tipi di camera, sui dettagli della spesa e così via.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-147">It also contains information about the booking, room types, details of spend, and so on.</span></span> <span data-ttu-id="d0c7d-148">I dati coprono quattro anni, da gennaio 2014 a gennaio 2018.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-148">The data spans four years, from January 2014 to January 2018.</span></span>
- <span data-ttu-id="d0c7d-149">Profili cliente degli ospiti dell'hotel.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-149">Customer profiles of hotel guests.</span></span> <span data-ttu-id="d0c7d-150">Questi profili contengono informazioni su ogni cliente, inclusi nome, data di nascita, indirizzo postale, sesso e numero di telefono.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-150">These profiles contain information about each customer, including their name, birthdate, postal address, gender, and phone number.</span></span>
- <span data-ttu-id="d0c7d-151">Utilizzo dei servizi offerti dall'hotel, come spa, lavanderia, WiFi o corriere.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-151">Usage of services offered by the hotel, such as the spa, laundry, WiFi, or courier.</span></span> <span data-ttu-id="d0c7d-152">Queste informazioni vengono registrate per ogni cliente registrato.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-152">This information is logged for each registered customer.</span></span> <span data-ttu-id="d0c7d-153">Tipicamente, l'utilizzo dei servizi è legato al soggiorno.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-153">Typically, use of services is linked with the stay.</span></span> <span data-ttu-id="d0c7d-154">In alcuni casi i servizi possono essere utilizzati dai clienti senza pernottare in hotel.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-154">In some cases, services can be used by customers without staying in the hotel.</span></span>

## <a name="churn-analysis"></a><span data-ttu-id="d0c7d-155">Analisi dell'abbandono</span><span class="sxs-lookup"><span data-stu-id="d0c7d-155">Churn Analysis</span></span>

<span data-ttu-id="d0c7d-156">L'analisi dell'abbandono si applica a diverse aree aziendali.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-156">Churn analysis applies to different business areas.</span></span> <span data-ttu-id="d0c7d-157">In questo esempio, esamineremo il tasso di abbandono dei servizi, in particolare nel contesto dei servizi alberghieri come descritto sopra.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-157">In this example, we’re going to look at service churn, specifically in the context of hotel services as described above.</span></span> <span data-ttu-id="d0c7d-158">Fornisce un esempio operativo di una pipeline di modelli end-to-end che può essere utilizzata come punto di partenza per qualsiasi altro tipo di modello di abbandono.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-158">It provides a working example of an end–to–end model pipeline that can be used as a starting point for any other type of churn model.</span></span>

### <a name="definition-of-churn"></a><span data-ttu-id="d0c7d-159">Definizione di abbandono</span><span class="sxs-lookup"><span data-stu-id="d0c7d-159">Definition of Churn</span></span>

<span data-ttu-id="d0c7d-160">La definizione di abbandono può variare in base allo scenario.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-160">The definition of churn can differ based on the scenario.</span></span> <span data-ttu-id="d0c7d-161">In questo esempio, un ospite che non ha visitato l'hotel nell'ultimo anno dovrebbe essere etichettato come cliente perso.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-161">In this example, a guest who hasn’t visited the hotel in the past year should be labeled as churned.</span></span>  

<span data-ttu-id="d0c7d-162">Il modello dell'esperimento può essere importato dalla raccolta.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-162">The experiment template can be imported from the gallery.</span></span> <span data-ttu-id="d0c7d-163">Innanzitutto, assicurati di importare i dati per **Attività di soggiorno in hotel**, **Dati dei clienti** e **Dati sull'utilizzo del servizio** dall'archivio BLOB di Azure.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-163">First, ensure that you import the data for **Hotel Stay Activity**, **Customer data**, and **Service Usage Data** from Azure Blob storage.</span></span>

   ![Importare i dati per il modello di abbandono](media/import-data-azure-blob-storage.png)

### <a name="featurization"></a><span data-ttu-id="d0c7d-165">Definizione delle funzionalità</span><span class="sxs-lookup"><span data-stu-id="d0c7d-165">Featurization</span></span>

<span data-ttu-id="d0c7d-166">Sulla base della definizione di abbandono, identifichiamo prima le funzionalità non elaborate che influenzeranno l'etichetta.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-166">Based on the definition of churn, we first identify the raw features that will influence the label.</span></span> <span data-ttu-id="d0c7d-167">Quindi, elaboriamo queste funzionalità non elaborate in funzionalità numeriche che possono essere utilizzate con i modelli di apprendimento automatico.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-167">Then, we process these raw features into numerical features that can be used with machine learning models.</span></span> <span data-ttu-id="d0c7d-168">L'integrazione dei dati avviene in Customer Insights di modo che possiamo unire queste tabelle utilizzando l'*ID cliente*.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-168">Data integration happens in Customer Insights so we can join these tables by using the *Customer ID*.</span></span>

   ![Unire dati importati](media/join-imported-data.png)

<span data-ttu-id="d0c7d-170">La definizione delle funzionalità per la creazione del modello per l'analisi del tasso di abbandono può rivelarsi complicata.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-170">The featurization for building the model for churn analysis can be a little tricky.</span></span> <span data-ttu-id="d0c7d-171">I dati sono una funzione del tempo con la nuova attività alberghiera registrata su base giornaliera.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-171">The data is a function of time with new hotel activity recorded on daily basis.</span></span> <span data-ttu-id="d0c7d-172">Durante la definizione delle funzionalità, vogliamo generare funzionalità statiche dai dati dinamici.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-172">During featurization, we want to generate static features from the dynamic data.</span></span> <span data-ttu-id="d0c7d-173">In questo caso, generiamo più funzionalità dall'attività alberghiera con una finestra flessibile di un anno.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-173">In this case, we generate multiple features from hotel activity with a sliding window of one year.</span></span> <span data-ttu-id="d0c7d-174">Espandiamo anche funzionalità di categoria come il tipo di camera o il tipo di prenotazione in funzionalità separate utilizzando la codifica one-hot.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-174">We also expand the categorical features like room type or booking type into separate features using one-hot encoding.</span></span>  

<span data-ttu-id="d0c7d-175">Elenco finale delle funzionalità:</span><span class="sxs-lookup"><span data-stu-id="d0c7d-175">Final list of features:</span></span>

| <span data-ttu-id="d0c7d-176">**Numero**</span><span class="sxs-lookup"><span data-stu-id="d0c7d-176">**Number**</span></span>  | <span data-ttu-id="d0c7d-177">**Original_Column**</span><span class="sxs-lookup"><span data-stu-id="d0c7d-177">**Original_Column**</span></span>          | <span data-ttu-id="d0c7d-178">**Funzionalità derivate**</span><span class="sxs-lookup"><span data-stu-id="d0c7d-178">**Derived Features**</span></span>                                                                                                                      |
|-------------|------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="d0c7d-179">1</span><span class="sxs-lookup"><span data-stu-id="d0c7d-179">1</span></span>           | <span data-ttu-id="d0c7d-180">Tipo di stanza</span><span class="sxs-lookup"><span data-stu-id="d0c7d-180">Room Type</span></span>                    | <span data-ttu-id="d0c7d-181">RoomTypeLargeCount, RoomTypeSmallCount</span><span class="sxs-lookup"><span data-stu-id="d0c7d-181">RoomTypeLargeCount, RoomTypeSmallCount</span></span>                                                                                                    |
| <span data-ttu-id="d0c7d-182">2</span><span class="sxs-lookup"><span data-stu-id="d0c7d-182">2</span></span>           | <span data-ttu-id="d0c7d-183">Tipo di prenotazione</span><span class="sxs-lookup"><span data-stu-id="d0c7d-183">Booking Type</span></span>                 | <span data-ttu-id="d0c7d-184">BookingTypeOnlineCount, BookingTypePhoneCallCount</span><span class="sxs-lookup"><span data-stu-id="d0c7d-184">BookingTypeOnlineCount, BookingTypePhoneCallCount</span></span>                                                                                         |
| <span data-ttu-id="d0c7d-185">3</span><span class="sxs-lookup"><span data-stu-id="d0c7d-185">3</span></span>           | <span data-ttu-id="d0c7d-186">Categoria di viaggio</span><span class="sxs-lookup"><span data-stu-id="d0c7d-186">Travel Category</span></span>              | <span data-ttu-id="d0c7d-187">TravelCategoryBusinessCount, TravelCategoryLeisureCount</span><span class="sxs-lookup"><span data-stu-id="d0c7d-187">TravelCategoryBusinessCount, TravelCategoryLeisureCount</span></span>                                                                                   |
| <span data-ttu-id="d0c7d-188">4</span><span class="sxs-lookup"><span data-stu-id="d0c7d-188">4</span></span>           | <span data-ttu-id="d0c7d-189">Soldi spesi</span><span class="sxs-lookup"><span data-stu-id="d0c7d-189">Dollars Spent</span></span>                | <span data-ttu-id="d0c7d-190">TotalDollarSpent</span><span class="sxs-lookup"><span data-stu-id="d0c7d-190">TotalDollarSpent</span></span>                                                                                                                          |
| <span data-ttu-id="d0c7d-191">5</span><span class="sxs-lookup"><span data-stu-id="d0c7d-191">5</span></span>           | <span data-ttu-id="d0c7d-192">Date di check-in e check-out</span><span class="sxs-lookup"><span data-stu-id="d0c7d-192">Check-in and Checkout dates</span></span>  | <span data-ttu-id="d0c7d-193">StayDayCount, StayDayCount2016, StayDayCount2015, StayDayCount2014, StayCount, StayCount2016.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-193">StayDayCount, StayDayCount2016, StayDayCount2015, StayDayCount2014, StayCount, StayCount2016.</span></span> <span data-ttu-id="d0c7d-194">StayCount2015, StayCount2014</span><span class="sxs-lookup"><span data-stu-id="d0c7d-194">StayCount2015, StayCount2014</span></span>                |
| <span data-ttu-id="d0c7d-195">6</span><span class="sxs-lookup"><span data-stu-id="d0c7d-195">6</span></span>           | <span data-ttu-id="d0c7d-196">Utilizzo del servizio</span><span class="sxs-lookup"><span data-stu-id="d0c7d-196">Service Usage</span></span>                | <span data-ttu-id="d0c7d-197">UsageTenure, ConciergeUsage, CourierUsage, DryCleaningUsage, GymUsage, PhoneUsage, RestaurantUsage, SpaUsage, TelevisionUsage, WifiUsage</span><span class="sxs-lookup"><span data-stu-id="d0c7d-197">UsageTenure, ConciergeUsage, CourierUsage, DryCleaningUsage, GymUsage, PhoneUsage, RestaurantUsage, SpaUsage, TelevisionUsage, WifiUsage</span></span>  |

### <a name="model-selection"></a><span data-ttu-id="d0c7d-198">Selezione del modello</span><span class="sxs-lookup"><span data-stu-id="d0c7d-198">Model selection</span></span>

<span data-ttu-id="d0c7d-199">Ora dobbiamo scegliere l'algoritmo ottimale da utilizzare.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-199">Now we need to choose the optimal algorithm to use.</span></span> <span data-ttu-id="d0c7d-200">In questo caso, la maggior parte delle funzionalità si basa su funzionalità di categoria.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-200">In this case, most features are based on categorical features.</span></span> <span data-ttu-id="d0c7d-201">In genere, i modelli basati su albero decisionale funzionano bene.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-201">Typically, decision tree–based models work well.</span></span> <span data-ttu-id="d0c7d-202">Se sono disponibili solo funzionalità numeriche, le reti neurali potrebbero essere una scelta migliore.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-202">If there are only numerical features, neural networks could be a better choice.</span></span> <span data-ttu-id="d0c7d-203">Anche la Support Vector Machine (SVM) è un buon candidato in tali situazioni; tuttavia, deve essere perfezionata per ottenere le migliori prestazioni.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-203">Support vector machine (SVM) also is a good candidate in such situations; however, it needs quite a bit of tuning to extract the best performance.</span></span> <span data-ttu-id="d0c7d-204">Scegliamo **Albero decisionale promosso a due classi** come primo modello di scelta seguito da **SVM a due classi** come secondo modello.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-204">We choose **Two-Class Boosted Decision Tree** as the first model of choice followed by **Two-Class SVM** as the second model.</span></span> <span data-ttu-id="d0c7d-205">Azure Machine Learning Studio consente di eseguire test A/B, pertanto è utile iniziare con due modelli anziché uno.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-205">Azure Machine Learning Studio lets you do A/B testing, so it’s beneficial to start with two models rather than one.</span></span>

<span data-ttu-id="d0c7d-206">L'immagine seguente mostra la pipeline di training e valutazione del modello da Azure Machine Learning Studio:</span><span class="sxs-lookup"><span data-stu-id="d0c7d-206">The following image shows the model training and evaluation pipeline from Azure Machine Learning Studio:</span></span>

![Modello di abbandono in Azure Machine Learning Studio](media/azure-machine-learning-model.png)

<span data-ttu-id="d0c7d-208">Applichiamo anche una tecnica chiamata **Importanza delle funzionalità di permuta**, un aspetto importante dell'ottimizzazione del modello.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-208">We also apply a technique called **Permutation Feature Importance**, an important aspect of model optimization.</span></span> <span data-ttu-id="d0c7d-209">I modelli incorporati hanno poche informazioni dettagliate sull'impatto di qualsiasi funzionalità specifica sulla previsione finale.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-209">Built-in models have little to no insight into the impact of any specific feature on the final prediction.</span></span> <span data-ttu-id="d0c7d-210">Il calcolatore dell'importanza delle funzionalità utilizza un algoritmo personalizzato per calcolare l'influenza delle singole funzionalità sul risultato per un modello specifico.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-210">The feature importance calculator uses a custom algorithm to compute the influence of individual features on the outcome for a specific model.</span></span> <span data-ttu-id="d0c7d-211">L'importanza della funzionalità è normalizzata tra +1 e -1.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-211">The feature importance is normalized between +1 to -1.</span></span> <span data-ttu-id="d0c7d-212">Un'influenza negativa significa che la funzionalità corrispondente ha un'influenza contro-intuitiva sul risultato e dovrebbe essere rimossa dal modello.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-212">A negative influence means the corresponding feature has counter-intuitive influence on the outcome and should be removed from the model.</span></span> <span data-ttu-id="d0c7d-213">Un'influenza positiva indica che la funzionalità sta contribuendo notevolmente alla previsione.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-213">A positive influence indicates the feature is contributing heavily towards the prediction.</span></span> <span data-ttu-id="d0c7d-214">Questi valori non sono coefficienti di correlazione in quanto sono metriche diverse.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-214">These values aren't correlation coefficients as they are different metrics.</span></span> <span data-ttu-id="d0c7d-215">Per ulteriori informazioni, vedi [Importanza delle funzionalità di permuta](https://docs.microsoft.com/azure/machine-learning/studio-module-reference/permutation-feature-importance).</span><span class="sxs-lookup"><span data-stu-id="d0c7d-215">For more information, see [Permutation Feature Importance](https://docs.microsoft.com/azure/machine-learning/studio-module-reference/permutation-feature-importance).</span></span>

<span data-ttu-id="d0c7d-216">L'intero [esperimento di abbandono è disponibile in Azure AI Gallery](https://gallery.azure.ai/Experiment/Hotel-Churn-Predictive-Exp).</span><span class="sxs-lookup"><span data-stu-id="d0c7d-216">The entire [churn experiment is available in the Azure AI Gallery](https://gallery.azure.ai/Experiment/Hotel-Churn-Predictive-Exp).</span></span>

## <a name="customer-lifetime-value-prediction"></a><span data-ttu-id="d0c7d-217">Previsione della durata della relazione con il cliente</span><span class="sxs-lookup"><span data-stu-id="d0c7d-217">Customer lifetime value prediction</span></span>

<span data-ttu-id="d0c7d-218">Il calcolo della durata della relazione con il cliente è una delle metriche chiave che un'azienda può utilizzare per valutare e segmentare i propri clienti.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-218">The customer lifetime value (CLTV) calculation is one of the key metrics that a business can use to assess and segment its customers.</span></span> <span data-ttu-id="d0c7d-219">Per il settore alberghiero è fondamentale conoscere i propri clienti.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-219">For the hotel business, it’s critical to know their customers.</span></span> <span data-ttu-id="d0c7d-220">Ad esempio, la comprensione dei fattori alla base di clienti ottimali è un'informazione cruciale.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-220">For example, understanding factors that make up good customers is crucial information.</span></span> <span data-ttu-id="d0c7d-221">Aiuta la direzione dell'hotel a valutare le funzionalità su cui deve concentrarsi e migliorare per soddisfare i propri clienti paganti.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-221">It helps the hotel management assess which features they need to focus on and improve to satisfy their high paying customers.</span></span> <span data-ttu-id="d0c7d-222">Queste decisioni possono avere un impatto diretto sulle vendite e sui guadagni.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-222">These decisions can have a direct impact on sales and earnings.</span></span>  

### <a name="definition-of-cltv"></a><span data-ttu-id="d0c7d-223">Definizione della durata della relazione con il cliente</span><span class="sxs-lookup"><span data-stu-id="d0c7d-223">Definition of CLTV</span></span>

<span data-ttu-id="d0c7d-224">Per questo esempio, definiamo la durata della relazione con il cliente come l'importo totale in dollari che il cliente dovrebbe spendere nei prossimi 365 giorni.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-224">For this example, we define the CLTV of a customer as the total dollar amount the customer is expected to spend in the next 365 days.</span></span> <span data-ttu-id="d0c7d-225">Utilizzeremo i dati degli ultimi tre anni per consentire a tutti i clienti di prevedere questo valore.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-225">We are going to use the past three years’ worth of data for all customers to predict this value.</span></span>

### <a name="featurization"></a><span data-ttu-id="d0c7d-226">Definizione delle funzionalità</span><span class="sxs-lookup"><span data-stu-id="d0c7d-226">Featurization</span></span>

<span data-ttu-id="d0c7d-227">In questo caso, la funzionalità sarà molto simile allo scenario di abbandono.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-227">In this case, featurization is going to be quite like the churn scenario.</span></span> <span data-ttu-id="d0c7d-228">Tuttavia, le etichette e i valori previsti sono diversi da quelli definiti sopra.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-228">However, the labels and predicted values are different than defined above.</span></span>

### <a name="model-selection"></a><span data-ttu-id="d0c7d-229">Selezione del modello</span><span class="sxs-lookup"><span data-stu-id="d0c7d-229">Model selection</span></span>

<span data-ttu-id="d0c7d-230">La previsione della durata della relazione con il cliente è un problema di regressione poiché il valore previsto è una variabile continua a valore positivo.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-230">Predicting the CLTV is a regression problem as the predicted value is a positive valued continuous variable.</span></span> <span data-ttu-id="d0c7d-231">In base alle proprietà della funzionalità, selezioniamo **Regressione dell'albero decisionale proposta** come un algoritmo e **Regressione della rete neurale** come un altro algoritmo per eseguire il training del modello.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-231">Based on the feature properties, we select **Boosted Decision Tree Regression** as one algorithm and **Neural Network Regression** as another algorithm to train the model.</span></span>

## <a name="product-recommendation-or-next-best-action"></a><span data-ttu-id="d0c7d-232">Suggerimenti di prodotto o migliore azione successiva</span><span class="sxs-lookup"><span data-stu-id="d0c7d-232">Product recommendation or Next Best Action</span></span>

<span data-ttu-id="d0c7d-233">I suggerimenti di prodotto in uno scenario di hotel vengono interpretati come servizi di suggerimenti offerti dall'hotel ai clienti.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-233">Product recommendation in a hotel scenario is interpreted as recommending services offered by the hotel to the customers.</span></span> <span data-ttu-id="d0c7d-234">L'obiettivo è scegliere i servizi appropriati per i clienti in modo da massimizzarne l'utilizzo.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-234">The objective is to choose the appropriate services for customers so that their usage is maximized.</span></span> <span data-ttu-id="d0c7d-235">È simile ai suggerimenti sui film per gli utenti del servizio di streaming video.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-235">It’s similar to movie recommendations for video streaming service users.</span></span>

### <a name="definition-of-product-recommendation-or-next-best-action"></a><span data-ttu-id="d0c7d-236">Definizione dei suggerimenti di prodotto o migliore azione successiva</span><span class="sxs-lookup"><span data-stu-id="d0c7d-236">Definition of Product Recommendation or Next Best Action</span></span>

<span data-ttu-id="d0c7d-237">Definiamo l'obiettivo come la massimizzazione della quantità di denaro speso per l'utilizzo del servizio offrendo i migliori servizi di corrispondenza ai clienti dell'hotel in base al loro interesse.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-237">We define the goal as maximizing the dollar amount of service usage by offering the best matching services to hotel customers according to their interest.</span></span>

### <a name="featurization"></a><span data-ttu-id="d0c7d-238">Definizione delle funzionalità</span><span class="sxs-lookup"><span data-stu-id="d0c7d-238">Featurization</span></span>

<span data-ttu-id="d0c7d-239">Come il modello di abbandono, stiamo unendo il ServiceCustomerID dell'hotel con CustomerID al fine di creare suggerimenti in modo coerente per CustomerID.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-239">Like the churn model, we are joining the hotel ServiceCustomerID with CustomerID in order to build recommendations consistently per CustomerID.</span></span>

![Funzionalità del modello di suggerimenti](media/azure-machine-learning-model-featurization.png)

<span data-ttu-id="d0c7d-241">I dati provengono da tre diverse entità e le funzionalità sono derivate da esse.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-241">The data is sourced from three different entities and features are derived from them.</span></span> <span data-ttu-id="d0c7d-242">La definizione delle funzionalità per il problema dei suggerimenti è diversa rispetto agli scenari di abbandono o durata della relazione con il cliente.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-242">The featurization for the problem of recommendation is different compared to churn or CLTV scenarios.</span></span> <span data-ttu-id="d0c7d-243">Il modello di suggerimenti richiede dati di input sotto forma di tre set di funzionalità.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-243">The recommendation model needs input data in the form of three sets of features.</span></span>

### <a name="model-selection"></a><span data-ttu-id="d0c7d-244">Selezione del modello</span><span class="sxs-lookup"><span data-stu-id="d0c7d-244">Model selection</span></span>

<span data-ttu-id="d0c7d-245">Prevediamo prodotti o servizi utilizzando l'algoritmo chiamato **Train Matchbox Recommender** per eseguire il training del modello di suggerimenti.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-245">We predict products or services by using the algorithm called **Train Matchbox Recommender** to train the recommendation model.</span></span>

![Algoritmo di suggerimenti per il prodotto](media/azure-machine-learning-model-recommendation-algorithm.png)

<span data-ttu-id="d0c7d-247">Le tre porte di input per il modello **Train Matchbox Recommender** acquisisce i dati sull'utilizzo del servizio di training, la descrizione del cliente (facoltativa) e la descrizione del servizio.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-247">The three input ports for the **Train Matchbox Recommender** model takes in the training service usage data, customer description (optional), and service description.</span></span> <span data-ttu-id="d0c7d-248">Esistono tre modi diversi per assegnare un punteggio al modello.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-248">There are three different ways of scoring the model.</span></span> <span data-ttu-id="d0c7d-249">Uno è per la valutazione del modello in cui viene calcolato un punteggio NDCG (Normalized Discounted Cumulative Gain) per classificare gli elementi valutati.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-249">One is for model evaluation where a Normalized Discounted Cumulative Gain (NDCG) score is calculated to rank the rated items.</span></span> <span data-ttu-id="d0c7d-250">In questo esperimento, il punteggio NDCG è 0,97.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-250">In this experiment, we have the NDCG score as 0.97.</span></span> <span data-ttu-id="d0c7d-251">Le altre due opzioni sono il punteggio del modello sull'intero catalogo di servizi suggeriti o il punteggio solo sugli elementi che gli utenti non hanno utilizzato prima.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-251">The other two options are scoring the model on the entire recommendable service catalog, or scoring only on items that users have not used before.</span></span>

<span data-ttu-id="d0c7d-252">Esaminando ulteriormente le distribuzioni dei suggerimenti sull'intero catalogo dei servizi, notiamo che telefono, WiFi e corriere sono i migliori servizi da consigliare.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-252">Looking further on the distributions of the recommendations on the entire service catalog, we notice that phone, WiFi, and courier are the top services to be recommended.</span></span> <span data-ttu-id="d0c7d-253">Ciò è coerente con quanto rilevato dalle distribuzioni dei dati di utilizzo del servizio:</span><span class="sxs-lookup"><span data-stu-id="d0c7d-253">This is consistent with what we found from the distributions of the service consumption data:</span></span>

![Risultato del modello di suggerimenti](media/azure-machine-learning-model-output.png)

<span data-ttu-id="d0c7d-255">L'intero [esperimento dei suggerimenti di prodotto è accessibile in Azure AI Gallery.](https://gallery.azure.ai/Experiment/Recommendation-4)</span><span class="sxs-lookup"><span data-stu-id="d0c7d-255">The entire [product recommendation experiment can be accessed in Azure AI Gallery.](https://gallery.azure.ai/Experiment/Recommendation-4)</span></span>

## <a name="integrate-custom-models"></a><span data-ttu-id="d0c7d-256">Integrare modelli personalizzati</span><span class="sxs-lookup"><span data-stu-id="d0c7d-256">Integrate custom models</span></span>

<span data-ttu-id="d0c7d-257">Per utilizzare queste previsioni in Customer Insights, è necessario **esportare** le previsioni insieme agli ID cliente.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-257">To use these predictions in Customer Insights, you need to **export** the predictions along with the customer IDs.</span></span> <span data-ttu-id="d0c7d-258">[Esportali nella stessa posizione dell'archivio BLOB di Azure](https://docs.microsoft.com/azure/storage/common/storage-import-export-data-from-blobs) in cui esportare i dati di origine.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-258">[Export them to the same Azure Blob storage location](https://docs.microsoft.com/azure/storage/common/storage-import-export-data-from-blobs) that you export the source data to.</span></span> <span data-ttu-id="d0c7d-259">Il servizio Web predittivo può essere pianificato per essere eseguito regolarmente e aggiornare i punteggi.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-259">The predictive web service can be scheduled to run regularly and update the scores.</span></span>

<span data-ttu-id="d0c7d-260">I dati generati dal modello personalizzato possono essere utilizzati per arricchire ulteriormente i dati cliente.</span><span class="sxs-lookup"><span data-stu-id="d0c7d-260">Data generated by the custom model can be used to further enrich your customer data.</span></span> <span data-ttu-id="d0c7d-261">Per ulteriori informazioni, vedi [Modelli personalizzati apprendimento automatico](custom-models.md).</span><span class="sxs-lookup"><span data-stu-id="d0c7d-261">For more information, see [Custom machine learning models](custom-models.md).</span></span>
